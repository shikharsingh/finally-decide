module.exports = {


  friendlyName: 'Save to session',


  description: 'Save a string value to the current session under the specified key.',


  extendedDescription: 'Note that the data will not actually be persisted to the session until the response is sent.  This is due to how the session middleware works in Connect/Express/Sails.',


  environment: ['req'],


  inputs: {

    key: {
      description: 'The name of the key in the session store.',
      example: 'loggedInAs',
      required: true
    },

    value: {
      description: 'The data to save to the current session.',
      example: 'some string',
      required: true
    }

  },


  exits: {
    success: {
      friendlyName: 'then',
      description: 'Successfully saved data to session store.'
    },
    error: {
      description: 'Unexpected error occurred.'
    }
  },

  fn: function(inputs, exits, env) {
    env.req.session[inputs.key] = inputs.value;
    return exits.success();
  }
};
