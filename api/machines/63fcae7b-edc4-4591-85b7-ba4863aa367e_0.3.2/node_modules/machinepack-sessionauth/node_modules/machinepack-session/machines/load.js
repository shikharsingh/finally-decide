module.exports = {


  friendlyName: 'Load session data',


  description: 'Load a string from the session using the specified key.',


  cacheable: true,


  environment: ['req'],


  inputs: {
    key: {
      description: 'The name of the key in the session store.',
      example: 'loggedInAs',
      required: true
    }
  },


  exits: {
    success: {
      friendlyName: 'then',
      description: 'Successfully fetched requested string from session.',
      example: 'some string'
    },
    notFound: {
      friendlyName: 'not found',
      description: 'No value was found in this user session under the specified key.'
    },
    error: {
      description: 'Unexpected error occurred.'
    }
  },

  fn: function(inputs, exits, env) {

    var value = env.req.session[inputs.key];
    if (value || value === ''){
      return exits.success(value);
    }
    return exits.notFound();
  }
};
